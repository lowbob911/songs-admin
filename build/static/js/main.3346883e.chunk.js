(this["webpackJsonpsongs-admin"]=this["webpackJsonpsongs-admin"]||[]).push([[0],{111:function(e,t,c){},112:function(e,t,c){},211:function(e,t,c){"use strict";c.r(t);var n=c(4),a=c.n(n),s=c(62),r=c.n(s),i=(c(111),c(11)),l=(c(112),c(18)),d=c(23),j=c(52),o=c(30),b=c(3);function O(e){var t=e.songs,c=e.onSelect;return Object(b.jsxs)("table",{className:"table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"#"}),Object(b.jsx)("th",{scope:"col",children:"Name"}),Object(b.jsx)("th",{scope:"col",children:"Action"})]})}),Object(b.jsx)("tbody",{children:t.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:e.number}),Object(b.jsx)("td",{children:e.title}),Object(b.jsx)("td",{children:Object(b.jsx)(o.a,{variant:"primary",onClick:function(){return c(e)},children:"Select"})})]},e.number)}))})]})}var u="NEW",h="UPDATE";function x(e){var t=Object(n.useState)([]),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(null),x=Object(i.a)(r,2),v=x[0],m=x[1],f=Object(n.useState)(null),g=Object(i.a)(f,2),p=g[0],N=g[1],S=Object(n.useState)(""),C=Object(i.a)(S,2),y=C[0],k=C[1],w=Object(n.useState)(""),T=Object(i.a)(w,2),E=T[0],I=T[1],F=Object(n.useState)({}),A=Object(i.a)(F,2),D=A[0],U=A[1];function P(){if(v){var t=function(){var e={};y||(e.title=!0);E.getCurrentContent().getPlainText()||(e.text=!0);return e}();if(U(t),Object.keys(t).length>0)return;var c=Object(l.a)({},a.find((function(e){return e&&e.number===v})));c.title=y,c.text=E.getCurrentContent().getPlainText(),c.updated=Date.now(),Object(d.e)(Object(d.c)(e.db,"songs/"+v),c).then((function(){alert("Updated")}))}}return Object(n.useEffect)((function(){var t=Object(d.c)(e.db,"songs");Object(d.b)(t,(function(e){s(e.val())}))}),[]),Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-lg-4",children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsxs)("h5",{className:"card-header",children:["Songs List",Object(b.jsx)(o.a,{className:"float-end",variant:"success",onClick:function(){N(u),k(""),I(j.EditorState.createWithText("")),m(null)},children:"Create"})]}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)(O,{songs:a,onSelect:function(e){N(h),m(e.number),k(e.title),I(j.EditorState.createWithText((null===e||void 0===e?void 0:e.text)||""))}})})]})}),Object(b.jsx)("div",{className:"col-12 col-lg-4",children:(p===u||p===h&&v)&&Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("h5",{className:"card-header",children:p===u?"Create Song":"Update Song "+v}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"titleInput",className:"form-label",children:"Title:"}),Object(b.jsx)("input",{type:"text",className:"form-control ".concat(D.title&&"is-invalid"),id:"titleInput",placeholder:"Song Title",value:y,onChange:function(e){return k(e.target.value)}}),Object(b.jsx)("div",{id:"validationServer05Feedback",className:"invalid-feedback",children:"Should not be empty"})]}),Object(b.jsxs)("div",{children:["Text:",Object(b.jsx)("div",{className:"".concat(D.text&&"is-invalid"),children:Object(b.jsx)(j.Editor,{editorState:E,onChange:I,className:"test"})}),Object(b.jsx)("div",{id:"validationServer05Feedback",className:"invalid-feedback",children:"Should not be empty"})]}),Object(b.jsxs)("div",{className:"mt-1 text-center",children:[p===h&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(o.a,{variant:"primary",className:"me-2",onClick:function(){return P()},children:"Update"}),Object(b.jsx)(o.a,{variant:"danger",onClick:function(){return t=v,void(window.confirm("Are you sure want to delete Song?")&&Object(d.d)(Object(d.c)(e.db,"songs/"+t)).then((function(){return alert("deleted!")})));var t},children:"Delete"})]}),p===u&&Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(o.a,{variant:"primary",onClick:function(){},children:"Create"})})]})]})]})}),Object(b.jsx)("div",{className:"col-12 col-lg-4",children:v&&Object(b.jsx)("iframe",{className:"w-100 h-100",srcDoc:'<div style="text-align: center; white-space: pre-wrap">'.concat(E.getCurrentContent().getPlainText(),"</div>")})})]})})}c(210);var v=c(105);function m(){return Object(b.jsxs)("div",{className:"lds-ring",children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})}var f={apiKey:"AIzaSyB6jgAYZFaJhpzVcoZ9hox6h6iVGq6Ozqo",authDomain:"songreader-f7e8c.firebaseapp.com",databaseURL:"https://songreader-f7e8c.firebaseio.com",projectId:"songreader-f7e8c",storageBucket:"songreader-f7e8c.appspot.com",messagingSenderId:"703302008821",appId:"1:703302008821:web:826c661d4e80de2a732abc"},g=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){var e=Object(v.a)(f),t=Object(d.a)(e);a(t)}),[]),c?Object(b.jsx)(x,{db:c}):Object(b.jsx)(m,{})};r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root"))}},[[211,1,2]]]);
//# sourceMappingURL=main.3346883e.chunk.js.map