(this["webpackJsonpsongs-admin"]=this["webpackJsonpsongs-admin"]||[]).push([[0],{111:function(e,t,c){},112:function(e,t,c){},211:function(e,t,c){"use strict";c.r(t);var n=c(4),a=c.n(n),r=c(63),s=c.n(r),i=(c(111),c(11)),l=(c(112),c(52)),d=c(18),j=c(19),o=c(53),b=c(30),u=c(3);function O(e){var t=e.songs,c=e.onSelect;return Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"#"}),Object(u.jsx)("th",{scope:"col",children:"Name"}),Object(u.jsx)("th",{scope:"col",children:"Action"})]})}),Object(u.jsx)("tbody",{children:t.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:e.number}),Object(u.jsx)("td",{children:e.title}),Object(u.jsx)("td",{children:Object(u.jsx)(b.a,{variant:"primary",onClick:function(){return c(e)},children:"Select"})})]},e.number)}))})]})}var h="NEW",x="UPDATE";function m(e){var t=Object(n.useState)([]),c=Object(i.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(null),m=Object(i.a)(s,2),v=m[0],f=m[1],g=Object(n.useState)(null),p=Object(i.a)(g,2),N=p[0],S=p[1],y=Object(n.useState)(""),C=Object(i.a)(y,2),k=C[0],w=C[1],T=Object(n.useState)(""),E=Object(i.a)(T,2),I=E[0],F=E[1],A=Object(n.useState)({}),D=Object(i.a)(A,2),U=D[0],P=D[1];function z(e){e.title=k,e.text=I.getCurrentContent().getPlainText(),e.updated=Date.now()}function B(){var e={};return k||(e.title=!0),I.getCurrentContent().getPlainText()||(e.text=!0),e}return Object(n.useEffect)((function(){var t=Object(j.c)(e.db,"songs");Object(j.b)(t,(function(e){r(e.val().filter((function(e){return e})))}))}),[]),Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12 col-lg-4",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("h5",{className:"card-header",children:["Songs List",Object(u.jsx)(b.a,{className:"float-end",variant:"success",onClick:function(){S(h),w(""),F(o.EditorState.createWithText("")),f(null)},children:"Create"})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)(O,{songs:a,onSelect:function(e){S(x),f(e.number),w(e.title),F(o.EditorState.createWithText((null===e||void 0===e?void 0:e.text)||""))}})})]})}),Object(u.jsx)("div",{className:"col-12 col-lg-4",children:(N===h||N===x&&v)&&Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("h5",{className:"card-header",children:N===h?"Create Song":"Update Song "+v}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"titleInput",className:"form-label",children:"Title:"}),Object(u.jsx)("input",{type:"text",className:"form-control ".concat(U.title&&"is-invalid"),id:"titleInput",placeholder:"Song Title",value:k,onChange:function(e){return w(e.target.value)}}),Object(u.jsx)("div",{id:"validationServer05Feedback",className:"invalid-feedback",children:"Should not be empty"})]}),Object(u.jsxs)("div",{children:["Text:",Object(u.jsx)("div",{className:"".concat(U.text&&"is-invalid"),children:Object(u.jsx)(o.Editor,{editorState:I,onChange:F,className:"test"})}),Object(u.jsx)("div",{id:"validationServer05Feedback",className:"invalid-feedback",children:"Should not be empty"})]}),Object(u.jsxs)("div",{className:"mt-1 text-center",children:[N===x&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b.a,{variant:"primary",className:"me-2",onClick:function(){return function(){if(v){var t=B();if(P(t),Object.keys(t).length>0)return;var c=Object(d.a)({},a.find((function(e){return e&&e.number===v})));z(c),Object(j.e)(Object(j.c)(e.db,"songs/"+v),c).then((function(){alert("Updated")}))}}()},children:"Update"}),Object(u.jsx)(b.a,{variant:"danger",onClick:function(){return t=v,void(window.confirm("Are you sure want to delete Song?")&&Object(j.d)(Object(j.c)(e.db,"songs/"+t)).then((function(){alert("deleted!"),f(null),w(""),F("")})));var t},children:"Delete"})]}),N===h&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(b.a,{variant:"primary",onClick:function(){return function(){if(N===h){var t=B();if(P(t),Object.keys(t).length>0)return;var c=(a.length>0?Math.max.apply(Math,Object(l.a)(a.map((function(e){return e.number})))):0)+1,n={number:c};z(n),Object(j.e)(Object(j.c)(e.db,"songs/"+c),n).then((function(){alert("Created"),S(x),f(c)}))}}()},children:"Create"})})]})]})]})}),Object(u.jsx)("div",{className:"col-12 col-lg-4",children:(N===h||N===x&&v)&&Object(u.jsx)("iframe",{className:"w-100 h-100",srcDoc:'<div style="text-align: center; white-space: pre-wrap">'.concat(I.getCurrentContent().getPlainText(),"</div>")})})]})})}c(210);var v=c(106);function f(){return Object(u.jsxs)("div",{className:"lds-ring",children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{})]})}var g={apiKey:"AIzaSyB6jgAYZFaJhpzVcoZ9hox6h6iVGq6Ozqo",authDomain:"songreader-f7e8c.firebaseapp.com",databaseURL:"https://songreader-f7e8c.firebaseio.com",projectId:"songreader-f7e8c",storageBucket:"songreader-f7e8c.appspot.com",messagingSenderId:"703302008821",appId:"1:703302008821:web:826c661d4e80de2a732abc"},p=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){var e=Object(v.a)(g),t=Object(j.a)(e);a(t)}),[]),c?Object(u.jsx)(m,{db:c}):Object(u.jsx)(f,{})};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(p,{})}),document.getElementById("root"))}},[[211,1,2]]]);
//# sourceMappingURL=main.8a625137.chunk.js.map